# GitLab Configuration
GITLAB_URL=https://gitlab.example.com
GITLAB_PAT=glpat-xxxxxxxxxxxxxxxxxxxx

# Application Port (exposed by nginx)
APP_PORT=3000

# =============================================================================
# Authentication (optional)
# =============================================================================
# Set these to enable basic auth on the nginx proxy (both dev and prod)
# Leave empty to disable authentication
AUTH_USERNAME=
AUTH_PASSWORD=

# =============================================================================
# LLM Configuration (for chat/inference)
# =============================================================================
# LLM providers are configured via the UI (Settings > LLM Providers).
# No env vars needed - add your OpenAI/Anthropic/custom providers in the app.

# =============================================================================
# Embedding Configuration
# =============================================================================
# Provider: "openai" or "local"
EMBEDDING_PROVIDER=local

# OpenAI Embeddings (when EMBEDDING_PROVIDER=openai)
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxx
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# Local Embeddings (when EMBEDDING_PROVIDER=local)
# Uses sentence-transformers via embedding-server container
# To enable: docker compose --profile local-embeddings up -d
# See EMBEDDING_MODELS.md for available models and recommendations
LOCAL_EMBEDDING_URL=http://embedding-server:8080
LOCAL_EMBEDDING_DIMENSION=768

# Local embedding model (image tag from Weaviate t2v-transformers)
# Options: baai-bge-base-en-v1.5 (recommended), sentence-transformers-all-MiniLM-L6-v2,
#          sentence-transformers-all-mpnet-base-v2, baai-bge-small-en-v1.5
# Note: Update LOCAL_EMBEDDING_DIMENSION when changing models (384 for MiniLM/small, 768 for base)
LOCAL_EMBEDDING_MODEL=baai-bge-base-en-v1.5

# Enable CUDA for local embeddings (1=enabled, 0=disabled)
LOCAL_EMBEDDING_ENABLE_CUDA=0

# Database Configuration
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=gitlab_chat
POSTGRES_USER=gitlab_chat
POSTGRES_PASSWORD=change_me_in_production

# Qdrant Configuration
QDRANT_HOST=qdrant
QDRANT_PORT=6333

# Redis Configuration
REDIS_URL=redis://redis:6379/0

# Application Settings
CHUNK_SIZE=512
CHUNK_OVERLAP=50
TOP_K_RESULTS=10

# Celery Worker Settings
CELERY_CONCURRENCY=4

# Sync frequency in seconds (how often to resync indexed projects)
SYNC_FREQUENCY=60
